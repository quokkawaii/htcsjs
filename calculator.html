<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>계산기 프로젝트</title>
  <style>
    body {
      padding : 0px;
    }
    
    #header {
      text-align: center;
    }

    #op {
      border: solid 1px gray;
      box-sizing: border-box;
      width: 50px;
      height: 25px;
      display : inline-block;
      vertical-align: middle;
      text-align: center;
    }

    input {
      width: 200px;
      vertical-align: middle;
      box-sizing: border-box;
      text-align: right;
    }
    .clickButton{
      text-align: center;
    }

    button{
      width: 50px;
      height: 50px;
      margin : 5px;
    }
  </style>
</head>
<body>
  <div id ="header">
    <span id="op"></span>
    <input type="text">
  </div>

  <div class="clickButton">
    <button id="num-7">7</button>
    <button id="num-8">8</button>
    <button id="num-9">9</button>
    <button id="plus">+</button>
  </div>

  <div class="clickButton">
    <button id="num-4">4</button>
    <button id="num-5">5</button>
    <button id="num-6">6</button>
    <button id="minus">-</button>
  </div>

  <div class="clickButton">
    <button id="num-1">1</button>
    <button id="num-2">2</button>
    <button id="num-3">3</button>
    <button id="divide">/</button>
  </div>

  <div class="clickButton">
    <button id="clear">C</button>
    <button id="num-0">0</button>
    <button id="result">=</button>
    <button id="mul">*</button>
  </div>

  <script>
    // 값을 저장할 변수
    let val1 = "";
    let operator = "";
    let val2 = "";

    // html과 연결 변수
    const $input = document.querySelector("input");
    const $op = document.querySelector("#op");

    // click시 실행할 함수
    const onClickNumber = () => {
      if(!operator){
        val1 += event.target.textContent;
      } else {
        val2 += event.target.textContent;
      }
      $input.value += event.target.textContent;
    }

    // 각 번호와 click시 이벤트 발생 연결
    document.querySelector("#num-0").addEventListener("click",onClickNumber);
    document.querySelector("#num-1").addEventListener("click",onClickNumber);
    document.querySelector("#num-2").addEventListener("click",onClickNumber);
    document.querySelector("#num-3").addEventListener("click",onClickNumber);
    document.querySelector("#num-4").addEventListener("click",onClickNumber);
    document.querySelector("#num-5").addEventListener("click",onClickNumber);
    document.querySelector("#num-6").addEventListener("click",onClickNumber);
    document.querySelector("#num-7").addEventListener("click",onClickNumber);
    document.querySelector("#num-8").addEventListener("click",onClickNumber);
    document.querySelector("#num-9").addEventListener("click",onClickNumber);

    // operator 이벤트 연결시 발생 함수
    const onClickOP = () => {
      if(!val2) {
        operator = event.target.textContent;
        $op.textContent = event.target.textContent;
        $input.value = "";
      }
    }

    // operator 이벤트 연결
    document.querySelector("#plus").addEventListener("click",onClickOP);
    document.querySelector("#minus").addEventListener("click",onClickOP);
    document.querySelector("#divide").addEventListener("click",onClickOP);
    document.querySelector("#mul").addEventListener("click",onClickOP);

    // Clear 구현
    document.querySelector("#clear").addEventListener("click",() => {
      val1 = "";
      val2 = "";
      operator = "";
      $op.textContent = "";
      $input.value = "";
    });

    // "=" 연산 결과 출력 

    document.querySelector("#result").addEventListener("click", ()=>{
      val1 = parseInt(val1);
      val2 = parseInt(val2);

      if(operator === "+"){
        $input.value = val1 + val2; 
      }
      else if(operator === "-"){
        $input.value = val1 - val2; 
      }
      else if(operator === "/"){
        $input.value = val1 / val2; 
      }
      else if(operator === "*"){
        $input.value = val1 * val2; 
      }            

    });
  </script>

</body>
</html>